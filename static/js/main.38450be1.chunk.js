(this.webpackJsonpmynearbyplaces=this.webpackJsonpmynearbyplaces||[]).push([[0],{28:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),s=a.n(c),r=a(21),i=a.n(r),l=(a(28),a(15)),o=a(4),h=a(2),j=a(12),u=a(8),b=a(9),d=a(11),p=a(10),O=(a(29),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).search=function(e){n.setState({search:!0}),e.preventDefault()},n.onInputChange=function(e){var t=e.target.value,a=e.target.name;n.setState(Object(j.a)({},a,t))},n.state={searchTerm:"",city:"",state:"",search:!1},n}return Object(b.a)(a,[{key:"render",value:function(){if(this.state.search){var e={pathname:"/places",state:{searchTerm:this.state.searchTerm,city:this.state.city,state:this.state.state}};return Object(n.jsx)(h.a,{to:e})}return Object(n.jsxs)("div",{className:"home",children:[Object(n.jsx)("h1",{className:"title",children:"mynearbyplaces"}),Object(n.jsxs)("form",{onSubmit:this.search,children:[Object(n.jsx)("input",{className:"search",rows:"1",cols:"30",type:"text",name:"searchTerm",placeholder:"Category",value:this.state.searchTerm,onChange:this.onInputChange}),Object(n.jsx)("input",{className:"search",rows:"1",cols:"30",type:"text",name:"city",placeholder:"City",value:this.state.city,onChange:this.onInputChange}),Object(n.jsx)("input",{className:"search",rows:"1",cols:"30",type:"text",name:"state",placeholder:"State",value:this.state.state,onChange:this.onInputChange}),Object(n.jsx)("input",{type:"submit",className:"searchButton",value:"Search"})]})]})}}]),a}(s.a.Component)),m=(a(35),"https://alianac-nearbyplaces-api.herokuapp.com"),x={search:function(e,t,a){var n=new URL(m+"/search?searchTerm=".concat(e,"&city=").concat(t,"&state=").concat(a));return fetch(n).then((function(e){return e.json()}))},addPlace:function(e,t,a,n,c){return fetch(m+"/place",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,city:t,state:a,cat:n,description:c})}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},getReviews:function(e){return fetch(m+"/reviews/".concat(e)).then((function(e){return e.json()}))},addReview:function(e,t,a,n){return fetch(m+"/review",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author:e,rate:t,rating:a,placeid:n})}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},deletePlace:function(e){return fetch(m+"/delete/".concat(e)).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},v=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var c;return Object(u.a)(this,a),(c=t.call(this,e)).deletePlace=function(e){x.deletePlace(e.id),x.search(c.state.searchTerm[0],c.state.searchTerm[1],c.state.searchTerm[2]).then((function(e){return c.setState({places:e})})).catch((function(e){return console.log(e)}))},c.showPlaces=function(){var e=[],t=c.state.places;if(0===t.length)return Object(n.jsx)("h3",{className:"noRevs",children:"No Places Found"});for(var a=function(a){var s=t[a],r={pathname:"/reviews",state:{place1:s}};e.push(Object(n.jsxs)("div",{className:"place",children:[Object(n.jsx)("p",{className:"makeRed",children:s.name}),Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:"Category:"})," ",s.cat]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:"Located:"})," ",s.city+", "+s.state]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:"Description:"})," ",s.description]}),Object(n.jsx)(o.b,{to:r,children:Object(n.jsx)("button",{className:"pButton readButton",children:"Read Reviews"})}),Object(n.jsx)(o.b,{to:{pathname:"/writereview",state:{place1:s}},children:Object(n.jsx)("button",{className:"pButton",children:"Write a Review"})}),Object(n.jsx)("button",{className:"pButton",onClick:function(){return c.deletePlace(s)},children:"Delete"})]},a))},s=0;s<t.length;s++)a(s);return e},c.state={searchTerm:[],places:[]},c}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location,a="",n="",c="";t&&t.state&&(t.state.searchTerm&&(a=t.state.searchTerm),t.state.city&&(n=t.state.city),t.state.state&&(c=t.state.state)),this.setState({searchTerm:[a,n,c]}),x.search(a,n,c).then((function(t){return e.setState({places:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)("h2",{children:"mynearbyplaces"})}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"header2",children:[Object(n.jsx)(o.b,{to:"/mynearbyplaces",children:Object(n.jsx)("button",{className:"homeButton pButton",children:"Home"})}),Object(n.jsxs)("p",{children:["Showing all results:",this.state.searchTerm]}),Object(n.jsx)(o.b,{to:"/addplace",children:Object(n.jsx)("button",{className:"addPlaceButton pButton",children:"Add a Place"})})]}),Object(n.jsx)("hr",{}),this.showPlaces()]})}}]),a}(s.a.Component),f=(a(36),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onInputChange=function(e){var t=e.target.value,a=e.target.name;n.setState(Object(j.a)({},a,t))},n.submitPlace=function(e){var t=n.state,a=t.name,c=t.city,s=t.state,r=t.category,i=t.description;x.addPlace(a,c,s,r,i),e.preventDefault(),n.setState({complete:!0})},n.state={name:"",city:"",state:"",category:"",description:"",complete:!1},n}return Object(b.a)(a,[{key:"render",value:function(){return this.state.complete?Object(n.jsx)(h.a,{to:"/mynearbyplaces"}):Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)("h2",{children:"mynearbyplaces"})}),Object(n.jsx)("div",{className:"header2",children:Object(n.jsx)(o.b,{to:"/mynearbyplaces",children:Object(n.jsx)("button",{className:"homeButton2 pButton",children:"Home"})})}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{className:"placeHeader",children:"Add a Place"}),Object(n.jsx)("div",{className:"form",children:Object(n.jsxs)("form",{onSubmit:this.submitPlace,children:[Object(n.jsx)("label",{children:"Name: "}),Object(n.jsx)("input",{className:"input",type:"text",name:"name",value:this.state.name,onChange:this.onInputChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:"City: "}),Object(n.jsx)("input",{className:"input",type:"text",name:"city",value:this.state.city,onChange:this.onInputChange}),Object(n.jsx)("label",{children:"State: "}),Object(n.jsx)("input",{className:"input",type:"textarea",name:"state",value:this.state.state,onChange:this.onInputChange,maxLength:"2",size:"2"}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:"Category: "}),Object(n.jsx)("input",{className:"input",type:"text",name:"category",value:this.state.category,onChange:this.onInputChange}),Object(n.jsx)("label",{children:"Description: "}),Object(n.jsx)("br",{}),Object(n.jsx)("textarea",{className:"desc",type:"text",name:"description",value:this.state.description,onChange:this.onInputChange}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"submit",className:"sButton pButton"})]})})]})}}]),a}(s.a.Component)),y=(a(37),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var c;return Object(u.a)(this,a),(c=t.call(this,e)).showReviews=function(e){var t=[];x.getReviews(e).then((function(e){return c.setState({reviews:e})})).catch((function(e){return console.log(e)}));var a=c.state.reviews;if(0===a.length)return Object(n.jsx)("h3",{className:"noRevs",children:"No Reviews Found"});for(var s=0;s<a.length;s++)t.push(Object(n.jsxs)("div",{className:"review",children:[Object(n.jsxs)("h4",{children:[Object(n.jsx)("b",{className:"labelRev",children:"Author: "}),a[s].author]}),Object(n.jsxs)("p",{children:[a[s].rate," out of 5"]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{className:"labelRev",children:"Rating: "}),a[s].rating]})]},s));return t},c.state={place:{},reviews:[]},c}return Object(b.a)(a,[{key:"render",value:function(){var e=this.props.location,t={};e&&(e.state&&e.state.place1&&(t=e.state.place1));return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)("h2",{children:"mynearbyplaces"})}),Object(n.jsxs)("div",{className:"header2",children:[Object(n.jsx)(o.b,{to:"/mynearbyplaces",children:Object(n.jsx)("button",{className:"homeButton2 pButton",children:"Home"})}),Object(n.jsx)(o.b,{to:{pathname:"/writereview",state:{place1:t}},children:Object(n.jsx)("button",{className:"addReviewButton pButton",children:"Write a Review"})})]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{className:"placeHeader",children:["Review(s) for '",t.name,"'"]}),this.showReviews(t.id)]})}}]),a}(s.a.Component)),g=(a(38),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onInputChange=function(e){var t=e.target.value,a=e.target.name;n.setState(Object(j.a)({},a,t))},n.submitReview=function(e){var t=n.state,a=t.author,c=t.rate,s=t.rating;x.addReview(a,c,s,e.id),n.setState({complete:!0})},n.state={author:"",rate:1,rating:"",complete:!1},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.props.location,a={};if(t&&t.state&&t.state.place1){var c=t.state.place1;a=c}return this.state.complete?Object(n.jsx)(h.a,{to:{pathname:"/reviews",state:{place1:a}}}):Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsx)("h2",{children:"mynearbyplaces"})}),Object(n.jsx)("div",{className:"header2",children:Object(n.jsx)(o.b,{to:"/mynearbyplaces",children:Object(n.jsx)("button",{className:"homeButton2 pButton",children:"Home"})})}),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{className:"placeHeader",children:["Write a Review for '",a.name,"'"]}),Object(n.jsxs)("form",{className:"form",onSubmit:function(){return e.submitReview(a)},children:[Object(n.jsx)("label",{children:"Author: "}),Object(n.jsx)("input",{className:"input",type:"text",name:"author",value:this.state.author,onChange:this.onInputChange}),Object(n.jsx)("label",{children:"Stars: "}),Object(n.jsxs)("select",{className:"input",type:"text",name:"rate",value:this.state.rate,onChange:this.onInputChange,children:[Object(n.jsx)("option",{value:"1",children:"1"}),Object(n.jsx)("option",{value:"2",children:"2"}),Object(n.jsx)("option",{value:"3",children:"3"}),Object(n.jsx)("option",{value:"4",children:"4"}),Object(n.jsx)("option",{value:"5",children:"5"})]}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:"Review: "}),Object(n.jsx)("textarea",{className:"desc",type:"text",name:"rating",value:this.state.rating,onChange:this.onInputChange}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"submit",className:"sButton pButton"})]})]})}}]),a}(s.a.Component));a(39);var N=function(){return Object(n.jsx)(o.a,{children:Object(n.jsxs)(h.d,{children:[Object(n.jsx)(h.b,{path:"/mynearbyplaces",children:Object(n.jsx)(O,{})}),Object(n.jsx)(h.b,{path:"/places",render:function(e){return Object(n.jsx)(v,Object(l.a)({},e))}}),Object(n.jsx)(h.b,{path:"/addplace",children:Object(n.jsx)(f,{})}),Object(n.jsx)(h.b,{path:"/reviews",render:function(e){return Object(n.jsx)(y,Object(l.a)({},e))}}),Object(n.jsx)(h.b,{path:"/writereview",render:function(e){return Object(n.jsx)(g,Object(l.a)({},e))}})]})})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,41)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(N,{})}),document.getElementById("root")),w()}},[[40,1,2]]]);
//# sourceMappingURL=main.38450be1.chunk.js.map